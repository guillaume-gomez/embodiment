import{w as L,x as U,t as e,r as l,y as Q,z as V,A as ee,C as D,I as Y,J as H,K as te,g as se}from"./vendor-18810573.js";import{Y as W,Z as ne,_ as oe,$ as re,a0 as ae,a1 as ie,a2 as ce,a3 as le,a4 as ue,a5 as de,a6 as he,a7 as me,a8 as fe}from"./three-5f7bc230.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const m of o.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&r(m)}).observe(document,{childList:!0,subtree:!0});function i(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=i(n);fetch(n.href,o)}})();function O(t,s){return Math.abs(s-t)}function _({x1:t,x2:s}){return O(s,t)}function q({y1:t,y2:s}){return O(s,t)}function K({z1:t,z2:s}){return O(s,t)}function xe(t){return[_(t)/2,q(t)/2,K(t)/2]}function pe({customRect3D:t,thickness:s,wireframe:i=!1}){const r=L(t.color),[n,o,m]=xe(t),v=[t.x1+n,t.y1+o,t.z1+m],f=L(v),g=U({from:{color:r,position:f},to:{color:t.color,position:v},config:{tension:250,friction:20,precision:1e-4},reset:!0}),x=_(t)-s,C=q(t)-s,S=K(t)-s,j=[x,C,S];return e.jsxs(W.mesh,{position:g.position,children:[e.jsx("boxGeometry",{args:j}),e.jsx(W.meshStandardMaterial,{color:g.color,emissive:"#212121",roughness:.478,metalness:.122,wireframe:i})]})}function ge(){return e.jsx(ne,{children:e.jsx(oe,{density:1.25,scrollSpeed:0})})}function je(){const{progress:t}=re();return e.jsxs(ae,{children:[e.jsx("span",{className:"canvas-load"}),e.jsxs("p",{style:{fontSize:14,color:"#f1f1f1",fontWeight:800},children:[t.toFixed(2),"%"]})]})}const be=l.forwardRef(({children:t},s)=>{const i=ie();return l.useImperativeHandle(s,()=>({recenter(){i.refresh().fit()}})),e.jsx("group",{ref:s,children:t})}),Z=1e3;function ve({shapeSizes:t,thickness:s,wireframe:i,customRects3D:r,handleGenerate:n}){const o=l.useRef(null),{toggleFullscreen:m,isFullscreenEnabled:v}=Q({target:o}),f=l.useRef(null);l.useEffect(()=>{g()},[r]);function g(){f.current&&f.current.recenter()}const[x,C,S]=t;return e.jsxs("div",{ref:o,className:"w-full h-full max-h-[92%]",children:[e.jsx("div",{className:`self-start relative ${v?"":"hidden"}`,children:e.jsx("button",{onClick:n,className:"btn btn-outline absolute z-10 top-6 left-1",children:"Generate"})}),e.jsxs(ce,{camera:{position:[0,.75,1.5],fov:75,far:5},dpr:window.devicePixelRatio,shadows:!0,onDoubleClick:()=>{m(),g()},children:[e.jsx("color",{attach:"background",args:["#06092c"]}),e.jsxs(l.Suspense,{fallback:e.jsx(je,{}),children:[e.jsxs(le,{preset:"rembrandt",adjustCamera:!1,intensity:.5,environment:"studio",children:[e.jsx(ue,{fit:!0,clip:!0,observe:!0,margin:2,children:e.jsx(be,{ref:f,children:e.jsx("group",{scale:1/Z,position:[-(x/2/Z),0,-(S/2)/Z],children:r.map((j,z)=>e.jsx(pe,{customRect3D:j,thickness:s,wireframe:i},z))})})}),e.jsx(de,{args:[50,50],position:[0,0,0],cellColor:"white"})]}),e.jsx(ge,{})]}),e.jsx(he,{alignment:"bottom-right",margin:[100,100],children:e.jsx(me,{labelColor:"white",axisHeadScale:1})}),e.jsx(fe,{makeDefault:!0,maxDistance:5})]})]})}function R(){for(var t="0123456789ABCDEF",s="#",i=0;i<6;i++)s+=t[Math.floor(Math.random()*16)];return s}function T(t,s){return t=Math.ceil(t),s=Math.floor(s),Math.floor(Math.random()*(s-t)+t)}function Ce(){const[t,s]=l.useState(50);l.useState(50);const[i,r]=l.useState(500),[n,o]=l.useState(500),[m,v]=l.useState(500),[f,g]=l.useState(1),[x,C]=l.useState([]),[S,j]=l.useState([]),z=l.useMemo(()=>x.length===0?[]:x[x.length-1].customRects3D,[x]);l.useEffect(()=>{E()},[f]);function E(){const u=S.map(a=>({...a,customRects3D:V(ee(a.customRects3D),Math.ceil(a.customRects3D.length*f))}));C(u)}function A(u,a,c){switch(a){case"X":default:return H(u,d=>c>=d.x1&&c<=d.x2);case"Y":return H(u,d=>c>=d.y1&&c<=d.y2);case"Z":return H(u,d=>c>=d.z1&&c<=d.z2)}}function I(u,a,c){switch(a){case"X":default:return M(u,c);case"Y":return B(u,c);case"Z":return F(u,c)}}function X(u,a,c){let d="Y";a==="X"?d="Z":a==="Y"?d="X":d="Y";const[b,p]=A(u,d,c);if(b.length===0)return console.info("does not work"),u;const w=D(b),y=G(u,w);return[...I([w],a,c),...y]}function M(u,a){const[c,d]=A(u,"Z",a),b=c.map(p=>{const w={...p,z2:a,color:R()},y={...p,z1:a,color:R()};return[w,y]});return[...Y(b),...d]}function B(u,a){const[c,d]=A(u,"X",a),b=c.map(p=>{const w={...p,x2:a,color:R()},y={...p,x1:a,color:R()};return[w,y]});return[...Y(b),...d]}function F(u,a){const[c,d]=A(u,"Y",a),b=c.map(p=>{const w={...p,y1:a,color:R()},y={...p,y2:a,color:R()};return[w,y]});return[...Y(b),...d]}function G(u,a){return u.filter(c=>c.x1!==a.x1||c.x2!==a.x2||c.y1!==a.y1||c.y2!==a.y2||c.z1!==a.z1||c.z2!==a.z2)}function h(u){const a={x1:0,x2:i,y1:0,y2:n,z1:0,z2:m,color:"black"},c=[I,X];let d=[a],b=[];for(let p=0;p<u;p++){const w=T(t,i-t),y=D(["X","Y","Z"]),P=T(0,1);d=c[P](d,y,w),b.push({position:p,action:`rotation-${y}`,customRects3D:d})}C(b),j(b),f!==1&&E()}function N(u,a){const c=I(z,u,a),d=[...x,{position:x.length,action:`rotation-${u}`,customRects3D:c}];C(d)}return{generate:h,cutInAction:N,customRects3D:z,customRects3DStack:x,setWidth:r,setHeight:o,setDepth:v,setRandom:g,width:i,height:n,depth:m,random:f}}function we({githubRepositoryUrl:t}){return e.jsx("a",{tabIndex:0,"aria-label":"Github",target:"_blank",href:t,rel:"noopener, noreferrer",className:"btn btn-outline drawer-button btn-square normal-case",children:e.jsx("svg",{width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:"inline-block h-5 w-5 fill-current md:h-6 md:w-6",children:e.jsx("path",{d:"M256,32C132.3,32,32,134.9,32,261.7c0,101.5,64.2,187.5,153.2,217.9a17.56,17.56,0,0,0,3.8.4c8.3,0,11.5-6.1,11.5-11.4,0-5.5-.2-19.9-.3-39.1a102.4,102.4,0,0,1-22.6,2.7c-43.1,0-52.9-33.5-52.9-33.5-10.2-26.5-24.9-33.6-24.9-33.6-19.5-13.7-.1-14.1,1.4-14.1h.1c22.5,2,34.3,23.8,34.3,23.8,11.2,19.6,26.2,25.1,39.6,25.1a63,63,0,0,0,25.6-6c2-14.8,7.8-24.9,14.2-30.7-49.7-5.8-102-25.5-102-113.5,0-25.1,8.7-45.6,23-61.6-2.3-5.8-10-29.2,2.2-60.8a18.64,18.64,0,0,1,5-.5c8.1,0,26.4,3.1,56.6,24.1a208.21,208.21,0,0,1,112.2,0c30.2-21,48.5-24.1,56.6-24.1a18.64,18.64,0,0,1,5,.5c12.2,31.6,4.5,55,2.2,60.8,14.3,16.1,23,36.6,23,61.6,0,88.2-52.4,107.6-102.3,113.3,8,7.1,15.2,21.1,15.2,42.5,0,30.7-.3,55.5-.3,63,0,5.4,3.1,11.5,11.4,11.5a19.35,19.35,0,0,0,4-.4C415.9,449.2,480,363.1,480,261.7,480,134.9,379.7,32,256,32Z"})})})}function ye({projectTitle:t,githubRepositoryUrl:s}){return e.jsxs("div",{className:"navbar p-0",children:[e.jsx("div",{className:"flex-1",children:e.jsx("a",{className:"btn btn-ghost normal-case text-4xl md:text-5xl font-regular",children:t})}),e.jsx("div",{className:"flex-none",children:e.jsx("div",{className:"dropdown dropdown-end",children:e.jsx(we,{githubRepositoryUrl:s})})})]})}function Ne({}){return e.jsx("footer",{className:"flex flex-row items-center p-4",children:e.jsx("div",{className:"flex items-center",children:e.jsx("span",{children:"Made by Guillaume Gomez - 2024"})})})}function k({label:t,min:s,max:i,value:r,step:n=1,onChange:o,float:m=!1,svgIcon:v,snap:f=1}){return e.jsxs("div",{className:"form-control gap-1",children:[e.jsxs("span",{className:"label-text flex flex-row gap-2 items-center justify-between",children:[e.jsxs("div",{className:"flex flex-row gap-1 justify-center items-center",children:[e.jsx("img",{src:v,alt:t}),"  ",t]}),e.jsxs("span",{className:"font-bold",children:["( ",r," )"]})]}),e.jsx("input",{className:"range range-accent",type:"range",min:s,max:i,value:r,step:n,onChange:g=>{o(m?parseFloat(g.target.value):parseInt(g.target.value))},list:`my-snap-${t}`}),e.jsx("datalist",{id:`my-snap-${t}`,children:e.jsx("option",{value:f})})]})}function J({label:t,value:s,options:i,svgIcon:r,onChange:n}){return e.jsxs("div",{className:"form-control gap-1",children:[e.jsx("span",{className:"label-text flex flex-row gap-2 items-center justify-between",children:e.jsxs("div",{className:"flex flex-row gap-1 justify-center items-center",children:[e.jsx("img",{src:r,alt:t}),"  ",t]})}),e.jsx("select",{className:"select select-accent",onChange:o=>n(o.target.value),value:s,children:i.map(({label:o,value:m})=>e.jsx("option",{value:m,children:o},o))})]})}function Se({onChange:t,maxCoord:s}){const[i,r]=l.useState("X"),[n,o]=l.useState(0);return e.jsxs("div",{children:[e.jsx(J,{label:"Axis cut",svgIcon:"cut-icon",value:i,onChange:m=>r(m),options:[{label:"X",value:"X"},{label:"Y",value:"Y"},{label:"Z",value:"Z"}]}),e.jsx(k,{label:"Coord",svgIcon:"coord-icon",value:n,step:1,min:0,max:s,snap:500,onChange:m=>o(m)}),e.jsx("button",{onClick:()=>{t(i,n),o(0),r("X")},children:"Cut emogi"})]})}function Ie({label:t,value:s,toggle:i,svgIcon:r}){return e.jsx("div",{className:"form-control",children:e.jsxs("label",{className:"label cursor-pointer px-0 gap-2",children:[e.jsx("span",{className:"label-text flex flex-row gap-2 items-center justify-between",children:e.jsxs("div",{className:"flex flex-row gap-1 justify-center items-center",children:[e.jsx("img",{src:r,alt:t}),"  ",t]})}),e.jsx("input",{type:"checkbox",className:"toggle toggle-accent",checked:s,onChange:i})]})})}function $({title:t,children:s,bgColor:i="bg-base-300",titleClass:r="card-title font-regular text-3xl"}){return e.jsx("div",{className:`card ${i} shadow-xl h-full`,children:e.jsxs("div",{className:"card-body p-4",children:[e.jsx("h2",{className:r,children:t}),s]})})}function Me({children:t}){var n;const[s,i]=l.useState(!0),r=l.useRef(null);return e.jsx($,{title:e.jsxs("div",{className:"flex flex-row items-center justify-between",children:[e.jsx("span",{children:"Advanced Settings"}),e.jsx("button",{className:"btn btn-sm btn-ghost text-xl",onClick:()=>i(!s),children:e.jsxs("div",{className:`anim-container ${s?"morphed":""}`,children:[e.jsxs("svg",{className:"icons plus",viewBox:"0 0 1024 1024",fill:"currentColor",height:"1em",width:"1em",children:[e.jsx("path",{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}),e.jsx("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"})]}),e.jsxs("svg",{className:"icons minus",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,viewBox:"0 0 24 24",height:"1em",width:"1em",children:[e.jsx("path",{d:"M22 12 A10 10 0 0 1 12 22 A10 10 0 0 1 2 12 A10 10 0 0 1 22 12 z"}),e.jsx("path",{d:"M8 12h8"})]})]})})]}),bgColor:"bg-base-200",titleClass:"text-lg bold",children:e.jsx("div",{className:"overflow-y-hidden transition-all duration-300",style:{height:s?0:((n=r.current)==null?void 0:n.offsetHeight)||0},children:e.jsx("div",{ref:r,className:"flex flex-col gap-3",children:t})})})}const ke="/embodiment/iconmonstr-cursor-15.svg",ze="/embodiment/iconmonstr-cursor-16.svg",Re="/embodiment/iconmonstr-cursor-17.svg",Ae="/embodiment/iconmonstr-control-panel-6.svg",Ge="/embodiment/iconmonstr-layer-11.svg",Ee="/embodiment/iconmonstr-layer-19.svg",Xe="/embodiment/iconmonstr-ruler-24.svg",Be="/embodiment/iconmonstr-cube-6.svg",Fe="https://github.com/guillaume-gomez/embodiment",Ye="Embodiment";function He(){const{generate:t,customRects3D:s,customRects3DStack:i,width:r,height:n,depth:o,random:m,setWidth:v,setHeight:f,setDepth:g,setRandom:x}=Ce(),[C,S]=l.useState(!1),[j,z]=l.useState(10),[E,A]=l.useState(!0),[I,X]=l.useState(25),[M,B]=l.useState(-1),F=l.useMemo(()=>M<0||M>i.length?s:i[M].customRects3D,[s,i,M]);l.useEffect(()=>{t(j)},[r,n,o,I,j]);function G(h,N){if(r===n&&n===o||r===n)return r;if(n===o)return n;if(r===n)return r;switch(h){case"width":return Math.abs(N-n)<Math.abs(N-o)?n:o;case"height":return Math.abs(N-r)<Math.abs(N-o)?r:o;case"depth":return Math.abs(N-n)<Math.abs(N-r)?n:r;default:return 0}}return e.jsx("div",{className:"bg-gradient-to-tl from-fuchsia-900 to-blue-900",children:e.jsxs("div",{className:"m-auto container flex flex-col gap-2 h-screen items-center",children:[e.jsx(ye,{projectTitle:Ye,githubRepositoryUrl:Fe}),e.jsxs("div",{className:"container p-2 flex md:flex-row flex-col gap-3 flex-grow",children:[e.jsx("div",{className:"lg:w-3/12 md:w-4/12",children:e.jsx($,{title:"Options",children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx(k,{label:"Random",float:!0,min:.1,max:1,value:m,svgIcon:Ae,step:.1,snap:.7,onChange:h=>x(h)}),e.jsxs(Me,{children:[E?e.jsx(k,{label:"Number of Cuts",value:j,svgIcon:Ee,min:1,max:20,step:1,snap:10,onChange:h=>z(h)}):e.jsx(Se,{onChange:()=>{},maxCoord:500}),e.jsx(Ie,{label:"Wireframe",svgIcon:Be,value:C,toggle:()=>S(!C)}),e.jsx(k,{label:"Thickness",min:0,max:100,value:I,svgIcon:Xe,snap:25,step:1,onChange:h=>X(h)}),e.jsx(k,{label:"Width",min:100,max:2e3,value:r,svgIcon:ze,snap:G("width",r),step:10,onChange:h=>v(h)}),e.jsx(k,{label:"Height",min:100,max:2e3,value:n,svgIcon:ke,snap:G("height",n),step:10,onChange:h=>f(h)}),e.jsx(k,{label:"Depth",min:100,max:2e3,value:o,svgIcon:Re,snap:G("depth",o),step:10,onChange:h=>g(h)}),e.jsx(J,{label:"History",svgIcon:Ge,value:M,onChange:h=>B(h),options:i.map(h=>({label:`Action ${h.position} - ${h.action}`,value:h.position}))})]}),e.jsx("button",{className:"hidden md:block btn btn-secondary",onClick:()=>t(j),children:"Generate"})]})})}),e.jsx("div",{className:"lg:w-9/12 md:w-8/12 h-full",children:e.jsxs($,{title:"Render",children:[e.jsx(ve,{shapeSizes:[r,n,o],thickness:I,wireframe:C,customRects3D:F,handleGenerate:()=>t(j)}),e.jsx("button",{className:"btn btn-secondary md:hidden",onClick:()=>t(j),children:"Generate"})]})})]}),e.jsx(Ne,{})]})})}te.createRoot(document.getElementById("root")).render(e.jsx(se.StrictMode,{children:e.jsx(He,{})}));
