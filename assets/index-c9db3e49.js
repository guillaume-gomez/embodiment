import{w as P,x as Q,t as e,r as l,y as ee,z as te,A as se,C as L,I as B,J as Y,K as ne,g as oe}from"./vendor-18810573.js";import{Y as $,Z as re,_ as ae,$ as ce,a0 as ie,a1 as le,a2 as ue,a3 as de,a4 as he,a5 as me,a6 as fe,a7 as xe,a8 as ge}from"./three-5f7bc230.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const h of r.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function a(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(n){if(n.ep)return;n.ep=!0;const r=a(n);fetch(n.href,r)}})();function Z(t,s){return Math.abs(s-t)}function T({x1:t,x2:s}){return Z(s,t)}function _({y1:t,y2:s}){return Z(s,t)}function V({z1:t,z2:s}){return Z(s,t)}function pe(t){return[T(t)/2,_(t)/2,V(t)/2]}function je({customRect3D:t,thickness:s,wireframe:a=!1}){const i=P(t.color),[n,r,h]=pe(t),v=[t.x1+n,t.y1+r,t.z1+h],f=P(v),y=Q({from:{color:i,position:f},to:{color:t.color,position:v},config:{tension:250,friction:20,precision:1e-4},reset:!0}),x=T(t)-s,b=_(t)-s,N=V(t)-s,p=[x,b,N];return e.jsxs($.mesh,{position:y.position,children:[e.jsx("boxGeometry",{args:p}),e.jsx($.meshStandardMaterial,{color:y.color,emissive:"#212121",roughness:.478,metalness:.122,wireframe:a})]})}function ve(){return e.jsx(re,{children:e.jsx(ae,{density:1.25,scrollSpeed:0})})}function be(){const{progress:t}=ce();return e.jsxs(ie,{children:[e.jsx("span",{className:"canvas-load"}),e.jsxs("p",{style:{fontSize:14,color:"#f1f1f1",fontWeight:800},children:[t.toFixed(2),"%"]})]})}const Ce=l.forwardRef(({children:t},s)=>{const a=le();return l.useImperativeHandle(s,()=>({recenter(){a.refresh().fit()}})),e.jsx("group",{ref:s,children:t})}),F=1e3;function we({shapeSizes:t,thickness:s,wireframe:a,customRects3D:i,handleGenerate:n}){const r=l.useRef(null),{toggleFullscreen:h,isFullscreenEnabled:v}=ee({target:r}),f=l.useRef(null);l.useEffect(()=>{y()},[i]);function y(){f.current&&f.current.recenter()}const[x,b,N]=t;return e.jsxs("div",{ref:r,className:"w-full h-full max-h-[92%]",children:[e.jsx("div",{className:`self-start relative ${v?"":"hidden"}`,children:e.jsx("button",{onClick:n,className:"btn btn-outline absolute z-10 top-6 left-1",children:"Generate"})}),e.jsxs(ue,{camera:{position:[0,.75,1.5],fov:75,far:5},dpr:window.devicePixelRatio,shadows:!0,onDoubleClick:()=>{h(),y()},children:[e.jsx("color",{attach:"background",args:["#06092c"]}),e.jsxs(l.Suspense,{fallback:e.jsx(be,{}),children:[e.jsxs(de,{preset:"rembrandt",adjustCamera:!1,intensity:.5,environment:"studio",children:[e.jsx(he,{fit:!0,clip:!0,observe:!0,margin:2,children:e.jsx(Ce,{ref:f,children:e.jsx("group",{scale:1/F,position:[-(x/2/F),0,-(N/2)/F],children:i.map((p,z)=>e.jsx(je,{customRect3D:p,thickness:s,wireframe:a},z))})})}),e.jsx(me,{args:[50,50],position:[0,0,0],cellColor:"white"})]}),e.jsx(ve,{})]}),e.jsx(fe,{alignment:"bottom-right",margin:[100,100],children:e.jsx(xe,{labelColor:"white",axisHeadScale:1})}),e.jsx(ge,{makeDefault:!0,maxDistance:5})]})]})}function M(){for(var t="0123456789ABCDEF",s="#",a=0;a<6;a++)s+=t[Math.floor(Math.random()*16)];return s}function D(t,s){return t=Math.ceil(t),s=Math.floor(s),Math.floor(Math.random()*(s-t)+t)}function ye(){const[t,s]=l.useState(50);l.useState(50);const[a,i]=l.useState(500),[n,r]=l.useState(500),[h,v]=l.useState(500),[f,y]=l.useState(1),[x,b]=l.useState([]),[N,p]=l.useState([]),z=l.useMemo(()=>x.length===0?[]:x[x.length-1].customRects3D,[x]);l.useEffect(()=>{A()},[f]);function A(){const u=N.map(o=>({...o,customRects3D:te(se(o.customRects3D),Math.ceil(o.customRects3D.length*f))}));b(u)}function R(u,o,c){switch(o){case"X":default:return Y(u,d=>c>=d.x1&&c<=d.x2);case"Y":return Y(u,d=>c>=d.y1&&c<=d.y2);case"Z":return Y(u,d=>c>=d.z1&&c<=d.z2)}}function S(u,o,c){switch(o){case"X":default:return I(u,c);case"Y":return E(u,c);case"Z":return X(u,c)}}function G(u,o,c){let d="Y";o==="X"?d="Z":o==="Y"?d="X":d="Y";const[j,g]=R(u,d,c);if(j.length===0)return console.info("does not work"),u;const C=L(j),w=m(u,C);return[...S([C],o,c),...w]}function I(u,o){const[c,d]=R(u,"Z",o),j=c.map(g=>{const C={...g,z2:o,color:M()},w={...g,z1:o,color:M()};return[C,w]});return[...B(j),...d]}function E(u,o){const[c,d]=R(u,"X",o),j=c.map(g=>{const C={...g,x2:o,color:M()},w={...g,x1:o,color:M()};return[C,w]});return[...B(j),...d]}function X(u,o){const[c,d]=R(u,"Y",o),j=c.map(g=>{const C={...g,y1:o,color:M()},w={...g,y2:o,color:M()};return[C,w]});return[...B(j),...d]}function m(u,o){return u.filter(c=>c.x1!==o.x1||c.x2!==o.x2||c.y1!==o.y1||c.y2!==o.y2||c.z1!==o.z1||c.z2!==o.z2)}function J(u){const o={x1:0,x2:a,y1:0,y2:n,z1:0,z2:h,color:"black"},c=[S,G];let d=[o],j=[];for(let g=0;g<u;g++){const C=D(t,a-t),w=L(["X","Y","Z"]),O=D(0,1);d=c[O](d,w,C),j.push({position:g,action:`rotation-${w}`,customRects3D:d})}b(j),p(j),f!==1&&A()}function U(u,o){const c=S(z,u,o),d=[...x,{position:x.length,action:`rotation-${u}`,customRects3D:c}];b(d)}return{generate:J,cutInAction:U,customRects3D:z,customRects3DStack:x,setWidth:i,setHeight:r,setDepth:v,setRandom:y,width:a,height:n,depth:h,random:f}}function q({githubRepositoryUrl:t}){return e.jsx("a",{tabIndex:0,"aria-label":"Github",target:"_blank",href:t,rel:"noopener, noreferrer",className:"btn btn-ghost drawer-button btn-square normal-case",children:e.jsx("svg",{width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:"inline-block h-5 w-5 fill-current md:h-6 md:w-6",children:e.jsx("path",{d:"M256,32C132.3,32,32,134.9,32,261.7c0,101.5,64.2,187.5,153.2,217.9a17.56,17.56,0,0,0,3.8.4c8.3,0,11.5-6.1,11.5-11.4,0-5.5-.2-19.9-.3-39.1a102.4,102.4,0,0,1-22.6,2.7c-43.1,0-52.9-33.5-52.9-33.5-10.2-26.5-24.9-33.6-24.9-33.6-19.5-13.7-.1-14.1,1.4-14.1h.1c22.5,2,34.3,23.8,34.3,23.8,11.2,19.6,26.2,25.1,39.6,25.1a63,63,0,0,0,25.6-6c2-14.8,7.8-24.9,14.2-30.7-49.7-5.8-102-25.5-102-113.5,0-25.1,8.7-45.6,23-61.6-2.3-5.8-10-29.2,2.2-60.8a18.64,18.64,0,0,1,5-.5c8.1,0,26.4,3.1,56.6,24.1a208.21,208.21,0,0,1,112.2,0c30.2-21,48.5-24.1,56.6-24.1a18.64,18.64,0,0,1,5,.5c12.2,31.6,4.5,55,2.2,60.8,14.3,16.1,23,36.6,23,61.6,0,88.2-52.4,107.6-102.3,113.3,8,7.1,15.2,21.1,15.2,42.5,0,30.7-.3,55.5-.3,63,0,5.4,3.1,11.5,11.4,11.5a19.35,19.35,0,0,0,4-.4C415.9,449.2,480,363.1,480,261.7,480,134.9,379.7,32,256,32Z"})})})}function Ne({projectTitle:t,githubRepositoryUrl:s}){return e.jsxs("div",{className:"navbar",children:[e.jsx("div",{className:"flex-1",children:e.jsx("a",{className:"btn btn-ghost normal-case text-5xl font-regular",children:t})}),e.jsx("div",{className:"flex-none",children:e.jsx("div",{className:"dropdown dropdown-end",children:e.jsx(q,{githubRepositoryUrl:s})})})]})}function Se({githubRepositoryUrl:t}){return e.jsx("footer",{className:"footer items-center p-4",children:e.jsxs("div",{className:"items-center grid-flow-col",children:[e.jsx("p",{children:"Made by Guillaume Gomez - 2023"}),e.jsx(q,{githubRepositoryUrl:t})]})})}function k({label:t,min:s,max:a,value:i,step:n=1,onChange:r,float:h=!1,svgIcon:v}){return e.jsxs("div",{className:"form-control gap-1",children:[e.jsxs("span",{className:"label-text flex flex-row gap-2 items-center justify-between",children:[e.jsxs("div",{className:"flex flex-row gap-1 justify-center items-center",children:[e.jsx("img",{src:v,alt:t}),"  ",t]}),e.jsxs("span",{className:"font-bold",children:["( ",i," )"]})]}),e.jsx("input",{className:"range range-accent",type:"range",min:s,max:a,value:i,step:n,onChange:f=>{r(h?parseFloat(f.target.value):parseInt(f.target.value))}})]})}function K({label:t,value:s,options:a,svgIcon:i,onChange:n}){return e.jsxs("div",{className:"form-control gap-1",children:[e.jsx("span",{className:"label-text flex flex-row gap-2 items-center justify-between",children:e.jsxs("div",{className:"flex flex-row gap-1 justify-center items-center",children:[e.jsx("img",{src:i,alt:t}),"  ",t]})}),e.jsx("select",{className:"select select-accent",onChange:r=>n(r.target.value),value:s,children:a.map(({label:r,value:h})=>e.jsx("option",{value:h,children:r},r))})]})}function Ie({onChange:t,maxCoord:s}){const[a,i]=l.useState("X"),[n,r]=l.useState(0);return e.jsxs("div",{children:[e.jsx(K,{label:"Axis cut",svgIcon:"cut-icon",value:a,onChange:h=>i(h),options:[{label:"X",value:"X"},{label:"Y",value:"Y"},{label:"Z",value:"Z"}]}),e.jsx(k,{label:"Coord",svgIcon:"coord-icon",value:n,step:1,min:0,max:s,onChange:h=>r(h)}),e.jsx("button",{onClick:()=>{t(a,n),r(0),i("X")},children:"Cut emogi"})]})}function ke({label:t,value:s,toggle:a,svgIcon:i}){return e.jsx("div",{className:"form-control",children:e.jsxs("label",{className:"label cursor-pointer px-0 gap-2",children:[e.jsx("span",{className:"label-text flex flex-row gap-2 items-center justify-between",children:e.jsxs("div",{className:"flex flex-row gap-1 justify-center items-center",children:[e.jsx("img",{src:i,alt:t}),"  ",t]})}),e.jsx("input",{type:"checkbox",className:"toggle toggle-accent",checked:s,onChange:a})]})})}function H({title:t,children:s,bgColor:a="bg-base-300",titleClass:i="card-title font-regular text-3xl"}){return e.jsx("div",{className:`card ${a} shadow-xl h-full`,children:e.jsxs("div",{className:"card-body p-4",children:[e.jsx("h2",{className:i,children:t}),s]})})}function ze({children:t}){var n;const[s,a]=l.useState(!0),i=l.useRef(null);return e.jsx(H,{title:e.jsxs("div",{className:"flex flex-row items-center justify-between",children:[e.jsx("span",{children:"Advanced Settings"}),e.jsx("button",{className:"btn btn-sm btn-ghost text-xl",onClick:()=>a(!s),children:e.jsxs("div",{className:`anim-container ${s?"morphed":""}`,children:[e.jsxs("svg",{className:"icons plus",viewBox:"0 0 1024 1024",fill:"currentColor",height:"1em",width:"1em",children:[e.jsx("path",{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}),e.jsx("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"})]}),e.jsxs("svg",{className:"icons minus",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,viewBox:"0 0 24 24",height:"1em",width:"1em",children:[e.jsx("path",{d:"M22 12 A10 10 0 0 1 12 22 A10 10 0 0 1 2 12 A10 10 0 0 1 22 12 z"}),e.jsx("path",{d:"M8 12h8"})]})]})})]}),bgColor:"bg-base-200",titleClass:"text-lg bold",children:e.jsx("div",{className:"overflow-y-hidden transition-all duration-300",style:{height:s?0:((n=i.current)==null?void 0:n.offsetHeight)||0},children:e.jsx("div",{ref:i,className:"flex flex-col gap-3",children:t})})})}const Me="/embodiment/iconmonstr-cursor-15.svg",Re="/embodiment/iconmonstr-cursor-16.svg",Ae="/embodiment/iconmonstr-cursor-17.svg",Ge="/embodiment/iconmonstr-control-panel-6.svg",Ee="/embodiment/iconmonstr-layer-11.svg",Xe="/embodiment/iconmonstr-layer-19.svg",Be="/embodiment/iconmonstr-ruler-24.svg",Ye="/embodiment/iconmonstr-cube-6.svg",W="https://github.com/guillaume-gomez/embodiment",Fe="Embodiment";function He(){const{generate:t,customRects3D:s,customRects3DStack:a,width:i,height:n,depth:r,random:h,setWidth:v,setHeight:f,setDepth:y,setRandom:x}=ye(),[b,N]=l.useState(!1),[p,z]=l.useState(10),[A,R]=l.useState(!0),[S,G]=l.useState(25),[I,E]=l.useState(-1),X=l.useMemo(()=>I<0||I>a.length?s:a[I].customRects3D,[s,a,I]);return l.useEffect(()=>{t(p)},[i,n,r,S,p]),e.jsxs("div",{className:"flex flex-col gap-2 h-screen items-center bg-gradient-to-tl from-fuchsia-900 to-indigo-900",children:[e.jsx(Ne,{projectTitle:Fe,githubRepositoryUrl:W}),e.jsxs("div",{className:"container p-2 flex md:flex-row flex-col gap-3 flex-grow",children:[e.jsx("div",{className:"lg:w-3/12 md:w-4/12",children:e.jsx(H,{title:"Options",children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx(k,{label:"Random",float:!0,min:.1,max:1,value:h,svgIcon:Ge,step:.1,onChange:m=>x(m)}),e.jsxs(ze,{children:[A?e.jsx(k,{label:"Number of Cuts",value:p,svgIcon:Xe,min:1,max:20,step:1,onChange:m=>z(m)}):e.jsx(Ie,{onChange:()=>{},maxCoord:500}),e.jsx(ke,{label:"Wireframe",svgIcon:Ye,value:b,toggle:()=>N(!b)}),e.jsx(k,{label:"Thickness",min:0,max:100,value:S,svgIcon:Be,step:1,onChange:m=>G(m)}),e.jsx(k,{label:"Width",min:100,max:2e3,value:i,svgIcon:Re,step:10,onChange:m=>v(m)}),e.jsx(k,{label:"Height",min:100,max:2e3,value:n,svgIcon:Me,step:10,onChange:m=>f(m)}),e.jsx(k,{label:"Depth",min:100,max:2e3,value:r,svgIcon:Ae,step:10,onChange:m=>y(m)}),e.jsx(K,{label:"History",svgIcon:Ee,value:I,onChange:m=>E(m),options:a.map(m=>({label:`Action ${m.position} - ${m.action}`,value:m.position}))})]}),e.jsx("button",{className:"btn btn-secondary",onClick:()=>t(p),children:"Generate"})]})})}),e.jsx("div",{className:"lg:w-9/12 md:w-8/12 h-full",children:e.jsxs(H,{title:"Render",children:[e.jsx(we,{shapeSizes:[i,n,r],thickness:S,wireframe:b,customRects3D:X,handleGenerate:()=>t(p)}),e.jsx("button",{className:"btn btn-secondary md:hidden",onClick:()=>t(p),children:"Generate"})]})})]}),e.jsx(Se,{githubRepositoryUrl:W})]})}ne.createRoot(document.getElementById("root")).render(e.jsx(oe.StrictMode,{children:e.jsx(He,{})}));
